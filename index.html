<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="xviewport" content="width=device-width">
        <title>Bedbug == Better Debugging</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>Better Debugging == bedbug</h1>
        <code>by Tim Kay<br/>
        timkay@not.com</code>
        <p>Working with numbers, debug output often looks cluttered due to
            too many decimal places. Bedbug enhances JavaScript
            template literals ("backtick" strings) to improve readability.</p>
        <p>Instead of this output:</p>
        <code>
            console.log(`The answer is a=${9.12345678} 1/3=${1/3} Math.PI=${Math.PI}`);
            <p></p>
            > The answer is a=9.12345678 1/3=0.3333333333333333 Math.PI=3.141592653589793
        </code>
        <p>add the letter "f", and you get this output:</p>
        <code>
            console.log(f`The answer is a=${9.12345678} 1/3=${1/3} Math.PI=${Math.PI}`);
            <p></p>
            > The answer is a=9.123 1/3=0.333 Math.PI=3.142
        </code>
        <p>You can also abbreviate. Instead of <kbd>x=${x}</kbd>,
            simply use <kbd>=x</kbd>:</p>
        <code>
            console.log(f`The answer is a=${9.12345678} =1/3 =fred =Math.PI`);
            <p></p>
            > The answer is a=9.123 1/3=0.333 fred=4.197 Math.PI=3.142
        </code>
        <p>Bedbug provides "tag" functions that modify how template literals
        work. Import the "f" tag like this:</p>
        <code>
            import {f} from '//bedbug.timkay.com/bedbug.js';<br/>
            console.log(f`The answer is a=${9.12345678} =Math.PI`);
        <p></p>
            > The answer is a=9.123 Math.PI=3.142
        </code>
        <p>Using the builtin "f" tag, the <kbd>=x</kbd> syntax only works with
            global variables. To access local variables using the <kbd>=x</kbd>
            syntax, you need to add to the top of each scope:</p>
        <code>
            const f = bedbug.g(x=>eval(x));
        </code>
        <p>This version of "f" works with <kbd>=x</kbd> syntax for both global
            and local variables. Unfortunately, you need to include it in every
            scope where local variables need to be displayed. This way, no need
            to import f, so import this way instead:</p>
        <code>
            import bedbug from '//bedbug.timkay.com/bedbug.js';
        </code>
        <p>To set display precision:</p>
        <code>
            bedbug.precision(1e-4);
        </code>
        <p>Examples:</p>
        <pre></pre>
        <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js" integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous"></script>
        <script src="weconsole.js"></script>
        <script src="weedit.js"></script>
        <script type="module" src="index.js"></script>
    </body>
</html>